import{b as E,c as T}from"./chunk-F7BNBWD4.js";var n=E(T());function p(){return window.getSelection()?.toString()||""}function C(r,t){let o=(0,n.default)(window),l=o.height()||0,s=Math.floor(l/3),c=t.find("#L"+r.start);if(c.length){if(r.start!=r.end){let u=t.find("#L"+r.end),d=u.offset().top+u.height()-c.offset().top;d<=l?s=.5*(l-d):s=c.height()/2}o.scrollTop(c.offset().top-s)}}function m(r){history.replaceState?history.replaceState(null,"",r):location.hash=r}function g(r){let t=r.match(/#L(\d+)(?:-L?(\d+))?/);if(t&&t.length===3){let o=parseInt(t[1],10),l=parseInt(t[2],10);return(isNaN(l)||l<o)&&(l=o),{start:o,end:l}}return null}function H(r,t){let o=[];for(let l=r.start;l<=r.end;l++)o.push("#L"+l);t.find(o.join(",")).addClass("highlighted")}function I(r){let t=g(document.location.hash);if(t){let o=parseInt(r.attr("id").replace("L",""),10);o<t.start?(t.end=t.start,t.start=o):t.end=o,m("#L"+t.start+"-"+t.end)}}function N(r){let t=(0,n.default)(".file-content"),o=t.find(".line-numbers"),l=(0,n.default)(".help-screen");function s(e,i=!1){let f="/search"+(e?"?q="+encodeURIComponent(e)+"&repo="+encodeURIComponent(r.repo_name):"");i?window.open(f):window.location.href=f}function c(){l.removeClass("hidden").children().on("click",function(e){return e.stopImmediatePropagation(),!0}),(0,n.default)(document).on("click",u)}function u(){return l.addClass("hidden").children().off("click"),(0,n.default)(document).off("click",u),!0}function d(e=!0){o.find(".highlighted").removeClass("highlighted");let i=g(document.location.hash);i&&(H(i,o),e&&C(i,t)),(0,n.default)("#external-link").attr("href",x(i))}function w(e){return e==null?"1":e.start==e.end?e.start:e.start+"-"+e.end}function x(e){let i=w(e),f=r.repo_name,h=r.file_path,a=r.url_pattern;if(!a){console.error("The index file you provided does not provide repositories[x].metadata.url_pattern. External links to file sources will not work. See the README for more information on file viewing.");return}return a.indexOf("/{path}")!==-1&&(h=h.replace(/^\/+/,"")),a=a.replace("{lno}",i.toString()),a=a.replace("{version}",r.commit),a=a.replace("{name}",f),a=a.replace("{path}",h),a}function y(e){switch(e){case"Enter":{let i=p();return i&&s(i,!0),!0}case"/":return u(),s(p()),!0;case"?":return c(),!0;case"Escape":return l.hasClass("hidden")?!1:(u(),(0,n.default)("#query").trigger("blur"),!0);case"v":{let i=(0,n.default)("#external-link");return i.trigger("focus"),window.location.href=i.attr("href"),!0}case"n":case"p":{let i=p();return i&&window.find(i,!1,e=="p"),!0}}return!1}function k(e){let i={search:s,help:c};for(let f in i)e.on("click auxclick",'[data-action-name="'+f+'"]',function(h){return function(a){a.preventDefault(),a.stopImmediatePropagation(),h()}}(i[f]))}let L=function(){(0,n.default)(".without-selection").hide(),(0,n.default)(".with-selection").show()},b=function(){(0,n.default)(".without-selection").show(),(0,n.default)(".with-selection").hide()};function S(){d(),o.on("click","a",function(e){e.preventDefault(),e.shiftKey?I((0,n.default)(e.target)):m((0,n.default)(e.target).attr("href")),d(!1)}),(0,n.default)(window).on("hashchange",function(e){e.preventDefault(),d()}),(0,n.default)(document).on("keydown",e=>{(0,n.default)(e.target).is("input,textarea")||e.altKey||e.ctrlKey||e.metaKey||y(e.key)&&e.preventDefault()}),(0,n.default)(document).on("mouseup",function(){p()?L():b()}),k((0,n.default)(".header .header-actions"))}setTimeout(function(){o.css({display:"block"}),S()},1)}(0,n.default)(()=>{N(JSON.parse(document.getElementById("data").text))});
//# sourceMappingURL=fileview-JXF663EJ.js.map
