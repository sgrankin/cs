import{b as T,c as C,g as m}from"./chunk-IF6V43UT.js";var n=T(C());function p(){return window.getSelection()?.toString()||""}function H(r,t){let o=(0,n.default)(window),l=o.height()||0,a=Math.floor(l/3),c=t.find("#L"+r.start);if(c.length){if(r.start!=r.end){let u=t.find("#L"+r.end),d=u.offset().top+u.height()-c.offset().top;d<=l?a=.5*(l-d):a=c.height()/2}o.scrollTop(c.offset().top-a)}}function g(r){history.replaceState?history.replaceState(null,"",r):location.hash=r}function w(r){let t=r.match(/#L(\d+)(?:-L?(\d+))?/);if(t&&t.length===3){let o=parseInt(t[1],10),l=parseInt(t[2],10);return(isNaN(l)||l<o)&&(l=o),{start:o,end:l}}return null}function I(r,t){let o=[];for(let l=r.start;l<=r.end;l++)o.push("#L"+l);t.find(o.join(",")).addClass("highlighted")}function R(r){let t=w(document.location.hash);if(t){let o=parseInt(r.attr("id").replace("L",""),10);o<t.start?(t.end=t.start,t.start=o):t.end=o,g("#L"+t.start+"-"+t.end)}}function N(r){let t=(0,n.default)(".file-content"),o=t.find(".line-numbers"),l=(0,n.default)(".help-screen");function a(e,i=!1){let f="/search"+(e?"?q="+encodeURIComponent(e)+"&repo="+encodeURIComponent(r.repo_name):"");i?window.open(f):window.location.href=f}function c(){l.removeClass("hidden").children().on("click",function(e){return e.stopImmediatePropagation(),!0}),(0,n.default)(document).on("click",u)}function u(){return l.addClass("hidden").children().off("click"),(0,n.default)(document).off("click",u),!0}function d(e=!0){o.find(".highlighted").removeClass("highlighted");let i=w(document.location.hash);i&&(I(i,o),e&&H(i,t)),(0,n.default)("#external-link").attr("href",y(i))}function x(e){return e==null?"1":e.start==e.end?e.start:e.start+"-"+e.end}function y(e){let i=x(e),f=r.repo_name,h=r.file_path,s=r.url_pattern;if(!s){console.error("The index file you provided does not provide repositories[x].metadata.url_pattern. External links to file sources will not work. See the README for more information on file viewing.");return}return s.indexOf("/{path}")!==-1&&(h=h.replace(/^\/+/,"")),s=s.replace("{lno}",i.toString()),s=s.replace("{version}",r.commit),s=s.replace("{name}",f),s=s.replace("{path}",h),s}function k(e){switch(e){case"Enter":{let i=p();return i&&a(i,!0),!0}case"/":return u(),a(p()),!0;case"?":return c(),!0;case"Escape":return l.hasClass("hidden")?!1:(u(),(0,n.default)("#query").trigger("blur"),!0);case"v":{let i=(0,n.default)("#external-link");return i.trigger("focus"),window.location.href=i.attr("href"),!0}case"n":case"p":{let i=p();return i&&window.find(i,!1,e=="p"),!0}}return!1}function L(e){let i={search:a,help:c};for(let f in i)e.on("click auxclick",'[data-action-name="'+f+'"]',function(h){return function(s){s.preventDefault(),s.stopImmediatePropagation(),h()}}(i[f]))}let b=function(){(0,n.default)(".without-selection").hide(),(0,n.default)(".with-selection").show()},S=function(){(0,n.default)(".without-selection").show(),(0,n.default)(".with-selection").hide()};function E(){d(),o.on("click","a",function(e){e.preventDefault(),e.shiftKey?R((0,n.default)(e.target)):g((0,n.default)(e.target).attr("href")),d(!1)}),(0,n.default)(window).on("hashchange",function(e){e.preventDefault(),d()}),(0,n.default)(document).on("keydown",e=>{(0,n.default)(e.target).is("input,textarea")||e.altKey||e.ctrlKey||e.metaKey||k(e.key)&&e.preventDefault()}),(0,n.default)(document).on("mouseup",function(){p()?b():S()}),L((0,n.default)(".header .header-actions"))}setTimeout(function(){o.css({display:"block"}),E()},1)}(0,n.default)(()=>{N(new m(document.getElementById("data").text))});
//# sourceMappingURL=fileview-CCRFYZFO.js.map
